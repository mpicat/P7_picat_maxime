<main class="main" *ngIf="user">
    <div class="main-title">
        <div class="main-title__left">
            <div class="main-title__left-logo">
                <img src="../assets/logo-simple.png" alt="Icône de groupomania">
            </div>
            <div class="main-title__left-mine">
                <h1>Mon Profil</h1>
            </div>
        </div>

        <div class="main-title__right">
            <button (click)="onContinue()">Retour à l'accueil</button>
        </div>
    </div>

    <div class="main-profil">
        <div class="main-profil__name">
            <p>Nom : {{ user.name }}</p>
        </div>
        <div class="main-profil__name">
            <p>Email : {{ user.email }}</p>
        </div>
    </div>

    <div class="main-modifications">
        <form [formGroup]= "modifyForm">
            <div>
                <label for="name">Nom :</label>
                <input type="text" formControlName="name" id="name" placeholder="Modifier votre nom ?" required >
            </div>
            <div>
                <label for="email">Email :</label>
                <input type="email" formControlName="email" id="email" placeholder="Modifier votre email ?" required >
            </div>
            <div class="form-btn">
                <button (click)="onModify()" [disabled]="name.errors?.['required'] && email.errors?.['required'] || email.errors?.['pattern']">Modifier</button>
            </div>
        </form>
    </div>

    <div class="main-delete">
        <form [formGroup]= "deleteForm">
            <div>
                <label for="deleteName">Nom :</label>
                <input type="text" formControlName="deleteName" id="deleteName" placeholder="Supprimer votre compte ?" required >
            </div>
            <div class="require">
                <p *ngIf="deleteName.errors?.['required']" ><i class="fa-solid fa-triangle-exclamation"></i> Ce champ est requis pour la suppression</p>
            </div>
            <div class="form-btn-black">
                <button (click)="onDelete(user.user)" [disabled]="deleteName.errors?.['required']" >Supprimer votre profil</button>
            </div>
            <div class="require">
                <p *ngIf="deleteError" ><i class="fa-solid fa-triangle-exclamation"></i> Vous n'avez pas écrit votre nom correctement, veuillez réessayer</p>
            </div>
        </form>
    </div>
</main>
